/*!
 * vue-jsonpath-picker v1.0.2
 * (c) Oscar Marie--Taillefer
 * Released under the MIT License.
 */
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function isCollapsable(e){return e instanceof Object&&Object.keys(e).length>0}function isUrl(e){return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}function json2html(e,t){var n="";if("string"==typeof e){var a=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");isUrl(a)?n+='<a href="'.concat(a,'" class="json-string">').concat(a,"</a>"):n+='<span class="json-string">"'.concat(a,'"</span>')}else if("number"==typeof e)n+='<span class="json-literal">'.concat(e,"</span>");else if("boolean"==typeof e)n+='<span class="json-literal">'.concat(e,"</span>");else if(null===e)n+='<span class="json-literal">null</span>';else if(e instanceof Array)if(e.length>0){n+='[<ol class="json-array">';for(var o=0;o<e.length;o+=1)n+='<li data-key-type="array" data-key="'.concat(o,'">'),isCollapsable(e[o])&&(n+='<a href class="json-toggle"></a>'),n+=json2html(e[o],t),o<e.length-1&&(n+=","),n+="</li>";n+="</ol>]"}else n+="[]";else if("object"===_typeof(e)){var i=Object.keys(e).length;if(i>0){for(var s in n+='{<ul class="json-dict">',e)if(e.hasOwnProperty(s)){n+='<li data-key-type="object" data-key="'.concat(s,'">');var r=t.outputWithQuotes?'<span class="json-string">"'.concat(s,'"</span>'):s;isCollapsable(e[s])?n+='<a href class="json-toggle">'.concat(r,"</a>"):n+=r,n+='<span class="pick-path" title="Pick path">&'+t.pickerIcon+";</span>",n+=": ".concat(json2html(e[s],t)),(i-=1)>0&&(n+=","),n+="</li>"}n+="</ul>}"}else n+="{}"}return n}function off(e,t,n,a){var o=a,i=n,s=t;"function"==typeof t&&(o=n,i=t,s=window),o=!!o,(s="string"==typeof s?document.querySelector(s):s)&&s.removeEventListener(e,i,o)}function siblings(e,t,n){for(var a=[],o=0;o<e.parentNode.children.length;o+=1){var i=e.parentNode.children[o];i===e||t&&!i.matches(t)||a.push(i)}if(n&&"function"==typeof n)for(var s=0;s<a.length;s+=1)n(a[s]);return a}function fireClick(e){var t;if(e.ownerDocument)t=e.ownerDocument;else{if(9!==e.nodeType)throw new Error("Invalid node passed to fireEvent: ".concat(e.id));t=e}if(e.dispatchEvent){var n=t.createEvent("MouseEvents");n.initEvent("click",!0,!0),n.synthetic=!0,e.dispatchEvent(n,!0)}else if(e.fireEvent){var a=t.createEventObject();a.synthetic=!0,e.fireEvent("onclick",a)}}function isHidden(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||"none"===window.getComputedStyle(e).display}function getParents(e,t){for(var n=[],a=e&&e.parentElement;a;a=a.parentElement)t&&!a.matches(t)||n.push(a);return n}function HandlerEventToggle(e,t){e.classList.toggle("collapsed");for(var n=siblings(e,"ul.json-dict, ol.json-array",function(e){e.style.display=""===e.style.display||"block"===e.style.display?"none":"block"}),a=0;a<n.length;a+=1)if(isHidden(n[a])){for(var o=n[a].children,i=0,s=0;s<o.length;s+=1)"LI"===o[s].tagName&&(i+=1);var r=i+(i>1?" items":" item");n[a].insertAdjacentHTML("afterend",'<a href class="json-placeholder">'.concat(r,"</a>"))}else siblings(n[a],".json-placeholder",function(e){return e.parentNode.removeChild(e)});t.stopPropagation(),t.preventDefault()}function ToggleEventListener(e){for(var t=e.target;t&&t!==this;)t.matches("a.json-toggle")&&(HandlerEventToggle.call(null,t,e),e.stopPropagation(),e.preventDefault()),t=t.parentNode}function SimulateClickHandler(e,t){siblings(e,"a.json-toggle",function(e){return fireClick(e)}),t.stopPropagation(),t.preventDefault()}function SimulateClickEventListener(e){for(var t=e.target;t&&t!==this;)t.matches("a.json-placeholder")&&SimulateClickHandler.call(null,t,e),t=t.parentNode}function PickPathHandler(e){if(0!==targetList.length){for(var t=getParents(e,"li").reverse(),n=[],a=0;a<t.length;a+=1){var o=t[a].dataset.key,i=t[a].dataset.keyType;if("object"===i&&"number"!=typeof o&&options.processKeys&&void 0!==options.keyReplaceRegexPattern){var s=new RegExp(options.keyReplaceRegexPattern,options.keyReplaceRegexFlags),r=void 0===options.keyReplacementText?"":options.keyReplacementText;o=o.replace(s,r)}n.push({key:o,keyType:i})}for(var l={none:"",single:"'",double:'"'}[options.pathQuotesType],c=(n=n.map(function(e,t){var n="brackets"===options.pathNotation,a=!/^\w+$/.test(e.key)||"number"==typeof e.key;return"array"===e.keyType||e.isKeyANumber?"[".concat(e.key,"]"):n||a?"[".concat(l).concat(e.key).concat(l,"]"):t>0?".".concat(e.key):e.key})).join(""),p=0;p<targetList.length;p+=1)void 0!==targetList[p].value&&(targetList[p].value=c)}}function PickEventListener(e){for(var t=e.target;t&&t!==this;)t.matches(".pick-path")&&PickPathHandler.call(null,t,e),t=t.parentNode}var targetList=[],options={};function jsonPathPicker(e,t,n,a){if(options=a||{},!e instanceof Element)return 1;if(!n)return 3;if(n.length)targetList=n;else{if(!n.value)return 3;targetList=[n]}options.pathQuotesType=void 0!==options.pathQuotesType?options.pathQuotesType:"single",options.pickerIcon=options.pickerIcon||"#x1f4cb";var o=json2html(t,options);if(isCollapsable(t)&&(o='<a href class="json-toggle"></a>'.concat(o)),e.innerHTML=o,off("click",e),e.addEventListener("click",ToggleEventListener),e.addEventListener("click",SimulateClickEventListener),e.addEventListener("click",PickEventListener),!0===options.outputCollapsed)for(var i=document.querySelectorAll("a.json-toggle"),s=0;s<i.length;s+=1)fireClick(i[s])}function clearJsonPathPicker(e){if(!e instanceof Element)return 1;e.removeEventListener("click",PickEventListener),e.removeEventListener("click",ToggleEventListener),e.removeEventListener("click",SimulateClickEventListener)}var jsonpathPickerVanilla={jsonPathPicker:jsonPathPicker,clearJsonPathPicker:clearJsonPathPicker},jsonpathPickerVanilla_1=jsonpathPickerVanilla.jsonPathPicker,jsonpathPickerVanilla_2=jsonpathPickerVanilla.clearJsonPathPicker,script={name:"JSONPathPicker",data:function(){return{clickedPath:"",path:{value:""}}},props:{code:{type:Object,default:function(){return{sample:"This is a sample"}}}},methods:{pickPath:function(e){e.target&&e.target.classList.contains("pick-path")&&this.$emit("path",this.path.value)}},mounted:function(){val&&jsonpathPickerVanilla_1(this.$refs["json-renderer"],this.$props.code,[this.path])},watch:{code:function(e){this.$refs["json-renderer"]&&(jsonpathPickerVanilla_2(this.$refs["json-renderer"]),e&&jsonpathPickerVanilla_1(this.$refs["json-renderer"],this.$props.code,[this.path]))}},destroyed:function(){this.$refs["json-renderer"]&&jsonpathPickerVanilla_2(this.$refs["json-renderer"])}};function normalizeComponent(e,t,n,a,o,i,s,r,l,c){"boolean"!=typeof s&&(l=r,r=s,s=!1);var p,d="function"==typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),a&&(d._scopeId=a),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=p):t&&(p=s?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),p)if(d.functional){var u=d.render;d.render=function(e,t){return p.call(t),u(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,p):[p]}return n}var normalizeComponent_1=normalizeComponent,isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(e){return function(e,t){return addStyle(e,t)}}var HEAD=document.head||document.getElementsByTagName("head")[0],styles={};function addStyle(e,t){var n=isOldIE?t.media||"default":e,a=styles[n]||(styles[n]={ids:new Set,styles:[]});if(!a.ids.has(e)){a.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",t.media&&a.element.setAttribute("media",t.media),HEAD.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(o),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var i=a.ids.size-1,s=document.createTextNode(o),r=a.element.childNodes;r[i]&&a.element.removeChild(r[i]),r.length?a.element.insertBefore(s,r[i]):a.element.appendChild(s)}}}var browser=createInjector,__vue_script__=script,__vue_render__=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"json-path-picker",on:{click:e.pickPath}},[n("pre",{ref:"json-renderer",staticClass:"json-tree"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.clickedPath,expression:"clickedPath"}],staticClass:"path",attrs:{type:"hidden",id:"path"},domProps:{value:e.clickedPath},on:{change:function(t){return e.$emit("path",e.clickedPath)},input:function(t){t.target.composing||(e.clickedPath=t.target.value)}}})])},__vue_staticRenderFns__=[],__vue_inject_styles__=function(e){e&&e("data-v-2f6c8a1a_0",{source:".json-path-picker[data-v-2f6c8a1a]{padding:3px 10px}",map:void 0,media:void 0})},__vue_scope_id__="data-v-2f6c8a1a",__vue_module_identifier__=void 0,__vue_is_functional_template__=!1,JSONPathPicker=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,browser,void 0),index={install:function(e){e.component("jsonpath-picker",JSONPathPicker)}};module.exports=index;
//# sourceMappingURL=index.min.js.map
