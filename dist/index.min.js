/*!
 * vue-jsonpath-picker v1.0.3
 * (c) Oscar Marie--Taillefer
 * Released under the MIT License.
 */
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function isCollapsable(e){return e instanceof Object&&Object.keys(e).length>0}function isUrl(e){return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}function json2html(e,t){var n="";if("string"==typeof e){var o=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");isUrl(o)?n+='<a href="'.concat(o,'" class="json-string">').concat(o,"</a>"):n+='<span class="json-string">"'.concat(o,'"</span>')}else if("number"==typeof e)n+='<span class="json-literal">'.concat(e,"</span>");else if("boolean"==typeof e)n+='<span class="json-literal">'.concat(e,"</span>");else if(null===e)n+='<span class="json-literal">null</span>';else if(e instanceof Array)if(e.length>0){n+='[<ol class="json-array">';for(var a=0;a<e.length;a+=1)n+='<li data-key-type="array" data-key="'.concat(a,'">'),isCollapsable(e[a])&&(n+='<a href class="json-toggle"></a>'),n+=json2html(e[a],t),a<e.length-1&&(n+=","),n+="</li>";n+="</ol>]"}else n+="[]";else if("object"===_typeof(e)){var i=Object.keys(e).length;if(i>0){for(var r in n+='{<ul class="json-dict">',e)if(e.hasOwnProperty(r)){n+='<li data-key-type="object" data-key="'.concat(r,'">');var s=t.outputWithQuotes?'<span class="json-string">"'.concat(r,'"</span>'):r;isCollapsable(e[r])?n+='<a href class="json-toggle">'.concat(s,"</a>"):n+=s,n+='<span class="pick-path" title="Pick path">&'+t.pickerIcon+";</span>",n+=": ".concat(json2html(e[r],t)),(i-=1)>0&&(n+=","),n+="</li>"}n+="</ul>}"}else n+="{}"}return n}function off(e,t,n,o){var a=o,i=n,r=t;"function"==typeof t&&(a=n,i=t,r=window),a=!!a,(r="string"==typeof r?document.querySelector(r):r)&&r.removeEventListener(e,i,a)}function siblings(e,t,n){for(var o=[],a=0;a<e.parentNode.children.length;a+=1){var i=e.parentNode.children[a];i===e||t&&!i.matches(t)||o.push(i)}if(n&&"function"==typeof n)for(var r=0;r<o.length;r+=1)n(o[r]);return o}function fireClick(e){var t;if(e.ownerDocument)t=e.ownerDocument;else{if(9!==e.nodeType)throw new Error("Invalid node passed to fireEvent: ".concat(e.id));t=e}if(e.dispatchEvent){var n=t.createEvent("MouseEvents");n.initEvent("click",!0,!0),n.synthetic=!0,e.dispatchEvent(n,!0)}else if(e.fireEvent){var o=t.createEventObject();o.synthetic=!0,e.fireEvent("onclick",o)}}function isHidden(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||"none"===window.getComputedStyle(e).display}function getParents(e,t){for(var n=[],o=e&&e.parentElement;o;o=o.parentElement)t&&!o.matches(t)||n.push(o);return n}function HandlerEventToggle(e,t){e.classList.toggle("collapsed");for(var n=siblings(e,"ul.json-dict, ol.json-array",function(e){e.style.display=""===e.style.display||"block"===e.style.display?"none":"block"}),o=0;o<n.length;o+=1)if(isHidden(n[o])){for(var a=n[o].children,i=0,r=0;r<a.length;r+=1)"LI"===a[r].tagName&&(i+=1);var s=i+(i>1?" items":" item");n[o].insertAdjacentHTML("afterend",'<a href class="json-placeholder">'.concat(s,"</a>"))}else siblings(n[o],".json-placeholder",function(e){return e.parentNode.removeChild(e)});t.stopPropagation(),t.preventDefault()}function ToggleEventListener(e){for(var t=e.target;t&&t!==this;)t.matches("a.json-toggle")&&(HandlerEventToggle.call(null,t,e),e.stopPropagation(),e.preventDefault()),t=t.parentNode}function SimulateClickHandler(e,t){siblings(e,"a.json-toggle",function(e){return fireClick(e)}),t.stopPropagation(),t.preventDefault()}function SimulateClickEventListener(e){for(var t=e.target;t&&t!==this;)t.matches("a.json-placeholder")&&SimulateClickHandler.call(null,t,e),t=t.parentNode}function PickPathHandler(e){if(0!==targetList.length){for(var t=getParents(e,"li").reverse(),n=[],o=0;o<t.length;o+=1){var a=t[o].dataset.key,i=t[o].dataset.keyType;if("object"===i&&"number"!=typeof a&&options.processKeys&&void 0!==options.keyReplaceRegexPattern){var r=new RegExp(options.keyReplaceRegexPattern,options.keyReplaceRegexFlags),s=void 0===options.keyReplacementText?"":options.keyReplacementText;a=a.replace(r,s)}n.push({key:a,keyType:i})}for(var l={none:"",single:"'",double:'"'}[options.pathQuotesType],c=(n=n.map(function(e,t){var n="brackets"===options.pathNotation,o=!/^\w+$/.test(e.key)||"number"==typeof e.key;return"array"===e.keyType||e.isKeyANumber?"[".concat(e.key,"]"):n||o?"[".concat(l).concat(e.key).concat(l,"]"):t>0?".".concat(e.key):e.key})).join(""),p=0;p<targetList.length;p+=1)void 0!==targetList[p].value&&(targetList[p].value=c)}}function PickEventListener(e){for(var t=e.target;t&&t!==this;)t.matches(".pick-path")&&PickPathHandler.call(null,t,e),t=t.parentNode}var targetList=[],options={};function jsonPathPicker(e,t,n,o){if(options=o||{},!e instanceof Element)return 1;if(!n)return 3;if(n.length)targetList=n;else{if(!n.value)return 3;targetList=[n]}options.pathQuotesType=void 0!==options.pathQuotesType?options.pathQuotesType:"single",options.pickerIcon=options.pickerIcon||"#x1f4cb";var a=json2html(t,options);if(isCollapsable(t)&&(a='<a href class="json-toggle"></a>'.concat(a)),e.innerHTML=a,off("click",e),e.addEventListener("click",ToggleEventListener),e.addEventListener("click",SimulateClickEventListener),e.addEventListener("click",PickEventListener),!0===options.outputCollapsed)for(var i=document.querySelectorAll("a.json-toggle"),r=0;r<i.length;r+=1)fireClick(i[r])}function clearJsonPathPicker(e){if(!e instanceof Element)return 1;e.removeEventListener("click",PickEventListener),e.removeEventListener("click",ToggleEventListener),e.removeEventListener("click",SimulateClickEventListener)}var jsonpathPickerVanilla={jsonPathPicker:jsonPathPicker,clearJsonPathPicker:clearJsonPathPicker},jsonpathPickerVanilla_1=jsonpathPickerVanilla.jsonPathPicker,jsonpathPickerVanilla_2=jsonpathPickerVanilla.clearJsonPathPicker,script={name:"JSONPathPicker",data:function(){return{clickedPath:"",path:{value:""}}},props:{code:{type:Object,default:function(){return{sample:"This is a sample"}}}},methods:{pickPath:function(e){e.target&&e.target.classList.contains("pick-path")&&this.$emit("path",this.path.value)}},mounted:function(){this.$refs["json-renderer"]&&jsonpathPickerVanilla_1(this.$refs["json-renderer"],this.$props.code,[this.path])},watch:{code:function(e){this.$refs["json-renderer"]&&(jsonpathPickerVanilla_2(this.$refs["json-renderer"]),e&&jsonpathPickerVanilla_1(this.$refs["json-renderer"],this.$props.code,[this.path]))}},destroyed:function(){this.$refs["json-renderer"]&&jsonpathPickerVanilla_2(this.$refs["json-renderer"])}};function normalizeComponent(e,t,n,o,a,i,r,s,l,c){"boolean"!=typeof r&&(l=s,s=r,r=!1);var p,d="function"==typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),o&&(d._scopeId=o),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=p):t&&(p=r?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),p)if(d.functional){var u=d.render;d.render=function(e,t){return p.call(t),u(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,p):[p]}return n}var normalizeComponent_1=normalizeComponent,isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(e){return function(e,t){return addStyle(e,t)}}var HEAD=document.head||document.getElementsByTagName("head")[0],styles={};function addStyle(e,t){var n=isOldIE?t.media||"default":e,o=styles[n]||(styles[n]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);var a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",t.media&&o.element.setAttribute("media",t.media),HEAD.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(a),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{var i=o.ids.size-1,r=document.createTextNode(a),s=o.element.childNodes;s[i]&&o.element.removeChild(s[i]),s.length?o.element.insertBefore(r,s[i]):o.element.appendChild(r)}}}var browser=createInjector,__vue_script__=script,__vue_render__=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"json-path-picker",on:{click:e.pickPath}},[n("pre",{ref:"json-renderer",staticClass:"json-tree"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.clickedPath,expression:"clickedPath"}],staticClass:"path",attrs:{type:"hidden",id:"path"},domProps:{value:e.clickedPath},on:{change:function(t){return e.$emit("path",e.clickedPath)},input:function(t){t.target.composing||(e.clickedPath=t.target.value)}}})])},__vue_staticRenderFns__=[],__vue_inject_styles__=function(e){e&&e("data-v-3c948855_0",{source:".json-path-picker[data-v-3c948855]{padding:3px 10px}",map:void 0,media:void 0})},__vue_scope_id__="data-v-3c948855",__vue_module_identifier__=void 0,__vue_is_functional_template__=!1,JSONPathPicker=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,browser,void 0);function styleInject(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var css='ul.json-dict,ol.json-array{list-style-type:none;margin:0 0 0 1px;border-left:1px dotted #ccc;padding-left:2em}.json-string{color:#0b7500}.json-literal{color:#1a01cc;font-weight:bold}a.json-toggle{position:relative;color:inherit;text-decoration:none}a.json-toggle:focus{outline:0}a.json-toggle:before{color:#aaa;content:"\\25BC";position:absolute;display:inline-block;width:1em;left:-1em}a.json-toggle.collapsed:before{content:"\\25B6"}a.json-placeholder{color:#aaa;padding:0 1em;text-decoration:none}a.json-placeholder:hover{text-decoration:underline}.pick-path{color:lightgray;cursor:pointer;margin-left:3px}.pick-path:hover{color:darkgray}';styleInject(css);var index={install:function(e){e.component("jsonpath-picker",JSONPathPicker)}};module.exports=index;
//# sourceMappingURL=index.min.js.map
